  使用宜搭应用数据创建企业经营管理大屏-DataV数据可视化-阿里云

本文主要介绍如何使用企业经营管理系统中客户库表及签约表表单数据，来创建并配置企业经营管理大屏。宜搭创建大屏实操视频，请参见：[宜搭创建大屏实操视频](https://cloud.video.taobao.com/play/u/null/p/1/e/6/t/1/d/ud/346397629348.mp4)。

## 创建企业经营管理系统

操作步骤如下：

1.  登录宜搭系统，通过空白应用创建名称为**企业经营管理系统**的应用。
    
2.  新建两个企业经营中需要的基础表单，分别为**客户库**和**签约表**。其中**客户库**表单包括**姓名**、**所属行业**、**联系方式**、**客户来源**、**所在地址**以及**经纬度**等信息。![客户库信息](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/7851633461/p395974.png)
    
    **签约表**表单包括**签约日期**、**合同编码**、**客户名称**、**合同名称**、**我方签约人**、**客户签约人**、**合同金额**、**单位**、**已收回款**、**未收回款**，**客户所在地址**以及**签约明细**等信息。
    
    ![签约表信息](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/7851633461/p395986.png)
    
3.  在创建好的**客户库**和**签约表**中分别录入一些数据，以便后续大屏展示。
    
4.  单击**企业经营管理系统**页面左上角的搜索框后的![新建](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/7851633461/p396122.png)图标，在弹出的下拉列表内，单击选择**新建大屏（Beta）**。![新建大屏](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/7851633461/p396121.png)
    
5.  进入**请选择大屏模板**页面，在**模板列表**中选择**集团数据大屏**模板，并单击下方的**就选它**。![选择模板](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/8851633461/p396125.png)
    
6.  模板大屏创建成功后，在大屏编辑界面上方，单击重命名处，将大屏的名称修改为**企业经营数据大屏**。![更改大屏名称](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/8851633461/p396126.png)
    
7.  在大屏编辑界面，从左往右依次为图层区，组件区，画布编辑区，页面配置区，单击选中画布中的某个组件，右侧面板显示为组件配置区。![大屏编辑页面](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/8224543461/p397382.png)
    
8.  您可以根据需求删除不需要的组件，如删除表示**员工数量**的**通用标题**和**数字翻牌器**组件。同时在画布编辑器中选择表示**2017年累计销售额**的**数字翻牌器**组件，在右侧**配置**面板中修改**标题名**为**2022年累计签约额**。按照同样的方法，可以修改其它数字翻牌器的名称。![修改数字翻牌器标题](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/8851633461/p396187.png)
    
    **说明**
    
    对于Windows电脑可以通过ctrl+鼠标单击+delete的方式多选删除组件，Mac电脑可以通过command+鼠标单击+delete方式多选删除组件。
    
9.  单击画布编辑器中表示**公司数量**的**通用标题**组件，在**数据**面板中单击**配置数据源**。![配置数据源](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/8224543461/p397381.png)在**设置数据源**模块，修改**静态数据**的`value`值为**客户数量**。![通用标题重命名](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/8851633461/p396388.png)
    
    **说明**
    
    -   选择组件时，您可以在画布编辑器中单击选择，也可以在左侧图层栏面板中单击选择。
        
    -   在画布编辑器中选择覆盖面比较大的图层，如**基础平面地图**组件，右键单击**锁定**，则被它所覆盖的**柱状图**组件将会展示出来，如果需要解锁，可以在左侧图层栏面板中选中**基础平面地图**组件，并右键单击**解锁**。
        
    
10.  按照同样的方法修改其它组件的配置，来完成企业经营数据大屏的配置。下图为企业经营数据大屏效果展示，其中左侧为集团签约概况和员工签约排名；中间为客户分布地图；下方为2022年各地区签约总额；右侧为产品类型分布、客户引入渠道以及签约详细信息。![企业经营数据大屏效果展示](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/8851633461/p396392.png)
     

## 客户库表数据配置大屏组件

本节使用客户库表数据配置的大屏组件包括：**数字翻牌器**、**轮播饼图**和**基础平面地图**组件。

### 配置数字翻牌器组件

配置数字翻牌器组件的操作步骤如下：

1.  打开创建完成的**企业经营数据**大屏，单击右上角**编辑大屏**，进入大屏编辑页面。
    
2.  选择表示**2022年累计客户数**的**数字翻牌器**组件，在组件右侧面板中，单击选择**数据**面板，并单击**配置数据源**。
    
3.  在**设置数据源**模块，单击**数据源类型**下拉框，选择**宜搭数据源**，并单击**进入配置**。![设置数据源](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/8851633461/p396399.png)
    
4.  在**图表数据配置**对话框：
    
    -   数据集配置：**数据集**选择**客户库**。
        
    -   数值配置：通过拖拽方式将数据集内左侧的`姓名`字段配置到中间**图表字段映射**中的**数值**处，单击`姓名`字段后的![设置按钮](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/8851633461/p396396.png)图标，选择**计数**函数，用于统计客户库中有多少人。![设置计数](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/9224543461/p397388.png)
        
    -   筛选条件配置：使用同样的方法，将`创建时间`字段配置到**筛选条件**处，并设置为在2022年1月1日到2023年1月1日之间。
        
    
    同时，您可以在右侧**图表预览**区域中查看您图表配置数据后的样式，并单击面板右下角的**确定**。![图表配置](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/8851633461/p396397.png)
    
5.  返回**配置**面板，选择**翻牌器** > **后缀**，输入所需数据单位。![配置单位](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/8851633461/p396400.png)
    

### 配置轮播饼图组件

配置轮播饼图组件的操作步骤如下：

1.  在画布编辑器中选择表示**客户引入渠道**的**饼图**组件，在组件的右侧面板中，选择**数据**面板，单击**配置数据源**，选择**宜搭数据源**，并单击**进入配置**。
    
2.  在**图表数据配置**对话框中，将**数据集**选择**客户库**，通过拖拽的方式，将**类别名**配置为`客户来源中文`字段，**值说明**配置为`姓名`字段，并设置**计数**，图表样式预览无误后，单击右下角的**确定**。![饼状图图表数据配置](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/9851633461/p396402.png)
    

### 配置基础平面地图组件

配置基础平面地图组件的操作步骤如下：

1.  在画布编辑器中，选择表示客户分布的**基础平面地图**组件，在组件的右侧**配置**面板中，单击**+子组件管理**，打开子组件管理面板，在面板中选择**散点层**，并单击子组件面板最下方的**+添加子组件**。![添加子组件](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/9851633461/p396404.png)
    
2.  在子组件管理处，单击选择**散点层**子组件，切换进入**散点层**子组件的**数据**面板，单击**配置数据源**，选择**宜搭数据源**，单击**进入配置**。
    
3.  在**图表数据配置**对话框中，将**数据集**选择**客户库**。通过拖拽的方式，将**纬度**配置为`lat`字段，**经度**配置为`lng`字段，图表预览无误后，单击右下角的**确定**。![地图图表配置 ](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/9851633461/p396407.png)
    
    **说明**
    
    如果配置散点层完成后，页面上无法查看到散点的信息，您可以在散点层**配置**面板，**系列配置**中查看到**类型过滤值**配置项为ok。![类型过滤器](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/9224543461/p397377.png)
    
    在散点层**数据**面板中的**设置数据源**模块，勾选**数据过滤器**，添加一个数据过滤器，并按如下图方法配置数据过滤器的代码。![添加数据过滤器](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/9851633461/p396408.png)代码示例如下：
    
    ```
    data.forEach(item=>{
      item.type = "ok"
    }
    ```
    
    过滤器内容配置完成后，散点层数据中将筛选出符合过滤要求的散点信息内容，并显示在地图中。
    

## 签约表数据配置大屏组件

本节使用签约表数据配置的大屏组件包括：**轮播列表柱状图**、**基本柱图**和**轮播列表**组件。

### 配置轮播列表柱状图组件

配置轮播列表柱状图组件的操作步骤如下：

1.  打开创建完成的**企业经营数据**大屏，单击右上角**编辑大屏**，进入大屏编辑页面。
    
2.  选择表示**签约排名**的**轮播列表柱状图**组件，在组件右侧面板中，选择**数据**面板，单击**配置数据源**，选择**宜搭数据源**，并单击**进入配置**。
    
3.  在**图表数据配置**对话框中，将**数据集**选择**签约表**，并通过拖拽的方式，将**值**配置为`合同金额`字段，**内容**配置为`我方签约人`字段，图表预览无误后，单击**确定**。![轮播列表柱状图图表配置](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/9851633461/p396478.png)
    
    **说明**
    
    轮播列表柱状图默认降序排列。
    

### 配置基本柱图组件

配置基本柱图组件的操作步骤如下：

1.  在画布编辑器中，选择表示**产品类型分布**的**基本柱图**组件，在组件右侧面板中，选择**数据**面板，单击**配置数据源**，选择**宜搭数据源**，单击**进入配置**。
    
2.  在**图表数据配置**对话框中，将**数据集**选择**签约表.签约明细**，通过拖拽的方式，将**类目**配置为`产品分类`字段，**值**配置为`数量`字段，**排序**设置为按`数量`字段排序，图表预览无误后，单击**确定**。![基本柱图图表配置](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/9851633461/p396486.png)
    

### 添加并配置轮播列表组件

添加并配置轮播列表组件的操作步骤如下：

1.  在画布编辑器中，从**全部资产**栏，单击添加表示**签约详情信息**的**轮播列表**组件。
    
2.  在组件右侧**配置**面板，设置**表格行数**、**表头**、**行配置**以及**序列号背景颜色**。![签约详情信息](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/9851633461/p396489.png)
    
    -   表格行数：单击**全局**配置项，打开下拉列表，设置**表格行数**为5。
        
    -   表头背景颜色：单击**表头**配置项，打开下拉列表，参见下图设置，配置表头的背景颜色。
        
    -   奇偶行背景颜色：单击**行配置**，打开下拉列表，参见下图设置，配置奇偶行的背景颜色。
        
    -   序号列背景颜色：单击**序列号**配置项，打开下拉列表，参见下图设置，配置序列号的背景颜色。![轮播列表基本配置 ](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/9851633461/p396540.png)
        
3.  单击**自定义列**配置项，打开下拉列表，在图表数据配置对话框中，配置列字段内容。![自定义列](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/0324543461/p397384.png)
    
4.  在**图表数据配置**对话框中，将**数据集**选择**签约表**，将需要展示的`我方签约人`、`客户签约人`、 `合同金额`和`签约日期`字段拖拽至列字段中，默认按`签约日期`设置成降序排列，单击右下角的**确定**。![轮播列表图表配置](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/9851633461/p396547.png)
    
5.  返回配置页面，打开**数据**面板，您需要新增几个自定义列标签，并将**数据响应结果**中返回的多个字段内容复制粘贴到自定义列中对应标签的字段中。![自定义列配置](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/9851633461/p396549.png)
    
6.  至此企业经营数据大屏的看板全部配置完成，效果展示如下图。![企业经营数据大屏效果展示](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/9851633461/p396552.png)