  可视化功能使用FAQ-DataV数据可视化-阿里云

本文介绍使用DataV组件时可能会遇见的问题及解决方法。

## 当控制台组件显示不正常，组件显示不全时应该如何解决？

如果您在使用组件时发现组件显示不正常，显示不全的情况，可能是由于登录状态丢失导致，请先清除浏览器缓存（特别是cookie），然后再次登录。

## 当您在使用地图组件时，怎么画全球、各市县、各市区的边界？

当您在使用地图组件时，您可以在阿里云提供的[小工具](http://datav.aliyun.com/static/tools/atlas/?spm=a2c4g.11186623.2.7.7Gt0W3#&lat=33.50475906922609&lng=104.2822265625&zoom=4)中找到相关地理边界的GeoJSON数据，粘贴到**基础平面地图**的**区域热力层**子组件的**区域面**数据接口中。并根据各个地区的编码，在**映射数据**里编辑各个地区的数值热力地图。小工具使用方法请参见：[DataV GeoAtlas地理小工具](https://help.aliyun.com/zh/datav/datav-6-0/user-guide/datav-geoatlas-widget/)。

## 使用地图瓦片组件时的常见问题

本节主要介绍DataV地图瓦片相关的常见问题及相应的解决方法。

### 在局域网中，如何调用地图瓦片？

在局域网中您可以将在线瓦片缓存在您的Web服务器上，按照标准文件夹命名的形式进行存放，例如：\[缩放等级\]/\[行号\]/\[列号\].png。然后使用URL来访问瓦片服务，例如http://ip:port/path\_to\_your\_tile\_directory/{z}/{x}/{y}.png。

### DataV中地图瓦片的坐标系格式及服务规范是什么？

在DataV平台中，默认支持的地图瓦片格式是WGS84或者GCJ-02球面坐标，按照标准Web Mercator（SRID:3857）投影方式进行切片。关于瓦片服务，在谷歌地图中，使用的是标准的TMS瓦片服务；在高德地图中，您可以通过地址访问服务，例如`http://webrd03.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=8&x={x}&y={y}&z={z}`，其中{}为占位符，会在实际调用时候替换为正确的瓦片行列号。

### 使用了高德底图，但是数据是wgs84坐标系格式的，如何转换？

高德底图的坐标系是gcj02格式的，需要对矢量数据进行转换，具体转换方式请参见[coordtransform坐标转换](http://github.com/wandergis/coordtransform)。

### 如何缓存瓦片？

在DataV中，不提供缓存瓦片相关的服务或者工具，您可以使用地图下载器或通过编码的形式来缓存瓦片。

## 底图接入常见问题

本节主要介绍DataV地图底图接入相关的常见问题及相应的解决方法。

### 什么是TMS规范？

TMS是Tile Map Service的缩写，是一种瓦片地图服务，也称之为WMTS（Web Map Tile Service），具体的标准请参见OGC网站：[https://www.ogc.org/standards/wmts/](https://www.ogc.org/standards/wmts/)。

### 底图层支持哪些地图服务，是否支持本地部署？

底图层支持在TMS规范下发布的标准地图服务，例如底图层默认加载的高德矢量和高德影像服务。所有TMS规范发布的标准地图服务都支持本地部署，且都可以通过底图层接入。

### 高德在线底图是否支持离线接入即本地部署？

不支持。目前，高德在线底图只能接入在线的高德默认配置好的地图模板，以及用户在高德地图平台自定义的地图服务，不支持离线服务，也就是不支持本地部署。

### DataV是否提供离线瓦片包？

DataV平台不提供离线瓦片包，只能在线使用。

### 哪些渠道可以获取到离线瓦片包？

您可以联系高德或者其他地图供应商，咨询离线地图的数据与服务价格。

### 如果需要接入自定义配置的底图，且需要支持离线即本地部署，有什么方案可以提供选择？

目前主要有三种方案可供选择：

-   专业的方案：您可以参考TMS规范，使用ArcGIS Server、SuperMap、MapServer等软件，输出自定义的地图底图。一般情况下，专业的地图公司都具备这个能力。
    
-   您可以从具备测绘资质的，且具备对外售卖离线瓦片包的专业地图厂商处，购买自定义的地图底图数据。
    
-   您可以通过MapBox配置。MapBox配置的自定义瓦片支持第三方标准接入，支持基础平面地图内的子组件底图层以TMS标准接入，详情请参见
    
    [MapBox官网](https://www.mapbox.com/)。
    

## 与BI仪表盘相比，DataV有哪些优势？

BI仪表盘是一种数据可视化工具，可在单个屏幕上为组织、部门、团队展示业务分析指标、KPI和一些重要数据。与BI仪表盘相比，DataV具有以下优势。

-   使用场景：DataV支持多屏协作和大屏拼接，同时支持8K以及更高的分辨率等特性，适用于展览、实时数据监控、地理数据分析和多维数据展示等场景。
    
-   展示媒介：DataV项目可以在大屏、电视、电脑和移动终端进行展示。
    
-   视觉效果：DataV可提供精美的动态视觉效果。
    
-   个性化定制：DataV支持您按需对组件进行个性化定制。
    
-   地理数据展示：DataV内置2D和3D空间引擎，支持在2D和3D地图上展示地理信息数据。
    
-   丰富的第三方组件：DataV集成了多种第三方组件，如ECharts和AntV。您也可以在[阿里云市场](https://market.aliyun.com/?spm=5176.8142029.388261.29.247e6d3ef1wTzk)找到更多商用第三方组件。