<!DOCTYPE html> 

本文介绍区块内部的数据接口的配置的方法，帮助您理解区块的数据接口功能。

在区块编辑器内，您可以单击区块编辑器右上角的![数据接口设置图标](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/2123054261/p283576.jpg)图标，在数据接口设置页签中支持如下数据接口配置操作。 

## 切换模式

在对话框上方可以切换数据接口模式，可选视图模式和代码模式。 

|    模式    |    说明    |
|    ----    |    ----    |
|    视图模式    |    在视图模式下，直观查看示例数据接口的样式，并按照示例样式自定义配置数据接口的内容，无需编写代码。 图 1\. 视图模式配置面板示例 ![视图模式配置面板示例](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/6669864261/p283671.png)    |
|    代码模式    |    在代码模式下，您可以根据示例接口代码，自定义编写所需数据接口的代码。实现新增或配置数据接口的内容。 图 2\. 代码模式面板示例 ![代码模式面板示例](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/6669864261/p283672.png) **说明** 配置数据接口代码规范，请参见[组件开发规范](https://help.aliyun.com/zh/datav/datav-6-0/user-guide/files-overview#concept-j52-1cl-q2b "本文介绍开发者在开发DataV组件时，需要遵循的文件结构。")。    |

## 配置数据接口

在数据接口设置页签中，系统默认情况下会自带配置一个数据接口示例，您可以自定义按操作配置数据接口内容。![数据接口示例样式](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/6669864261/p283667.jpg)

|    操作    |    说明    |
|    ----    |    ----    |
|    展开数据接口详细信息列表    |    单击示例数据接口右侧的![下拉图标](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/6669864261/p283598.jpg)图标，即可打开当前数据接口的详细配置信息列表。    |
|    编辑数据接口基本信息    |    每一个数据接口中包含多个参数内容，您可以自定义编辑数据接口的基本信息参数内容。 名称：数据接口的名称。 显示名：数据接口对外显示的名称。确认修改显示名后按回车键，结果会即时显示在配置面板中。 描述：数据接口的接口描述信息。 数据类型：为数据接口选择一个数据类型，可选对象、数组、任意值和无。    |
|    删除数据接口    |    单击数据接口右侧的![删除图标](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/6669864261/p283603.jpg)图标，即可删除当前数据接口。    |
|    新增数据接口    |    单击数据接口设置页签内的新增数据接口，即可在下方数据接口配置区域，新增一个新增的数据接口内容。 **说明** 您可以自定义新增或编辑多个数据接口用于区块接口使用。    |

## 配置数据字段

在数据接口设置页签中，默认情况下系统会自动添加一个示例数据字段，您可以自定义按操作配置数据字段。![字段配置示例](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/6669864261/p283668.jpg)

|    操作    |    说明    |
|    ----    |    ----    |
|    编辑字段基本信息    |    每一个数据字段中包含多个字段参数内容，您可以自定义编辑字段的参数内容。 字段名：输入数据字段的英文名称，字段名称必须为英文字符，作为参数传递时的key值。 中文名：输入字段的中文名，中文名必须控制在10字以内，用于解释字段的含义。 说明：输入字段的详细描述说明，字数需要控制在25字以内。 类型：选择字段的类型，可选字符串、数值、对象、数组、布尔值和二进制。    |
|    新增字段    |    单击字段行右侧的![新增按键](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/7669864261/p283612.jpg)图标后选择添加同级，即可新增一行字段内容。    |
|    调整字段位置    |    当数据接口中添加了多个字段信息行后，您可以单击字段行最左侧的![调整位置图标](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/7669864261/p287054.png)图标，并拖动字段行即可调整各字段行之间的上下排列顺序。    |
|    删除字段    |    单击字段行右侧的![删除字段图标](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/7669864261/p283644.jpg)图标，即可删除字段内容。 **说明** 当您删除完列表内所有字段后，您可以单击字段列表内的添加字段，快速添加一行字段内容。 ![添加字段](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/7669864261/p287062.png)    |
|    配置字段默认数据    |    您可以为已添加的字段，配置字段的默认数据，作为字段的示例数据内容。![示例数据配置样式](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/7669864261/p283669.jpg)    |

## 可视化应用中查看并使用数据接口

在区块编辑器中配置完数据接口后，您可以在画布编辑器中使用区块时，查看到区块的所有数据接口信息，具体在可视化应用中配置并查看接口信息的步骤如下。 
1. 在区块编辑器中，对配置的数据接口内容，进行预览和测试数据接口内容，接口测试无误后，发布区块，详情请参见[预览区块](https://help.aliyun.com/zh/datav/preview-a-block#task-2062250 "预览区块的目的是为了测试区块的功能可用性，模拟使用时的各种操作。本文介绍如何预览并测试一个配置完成的区块，帮助您及时了解区块的可用性，便于区块的及时修改和完善。")和[发布区块](https://help.aliyun.com/zh/datav/publish-a-block#task-2062363 "本文介绍如何发布一个区块，帮助您升级区块版本，可供后续在可视化应用中使用。")。![测试区块并发布](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/4643285261/p290517.png)
2. 切换到控制台上的我的可视化页面，将鼠标悬浮至一个可视化应用上方，单击编辑进入画布编辑器。
3. 单击![资产列表](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/4643285261/p292278.png)图标展开全部资产列表，选择区块模块，在区块列表内可查看到发布后的所有区块内容。
4. 单击所需区块，即可添加该区块到画布编辑器中。
5. 单击选中画布中的区块，在右侧配置面板中选择数据页签，即可查看该区块的数据接口中的所有配置信息，您可以参见[配置组件数据](https://help.aliyun.com/zh/datav/datav-6-0/user-guide/configure-widget-data#task-2376875 "本文档介绍配置组件数据的方法，以及组件数据面板的内容，包括数据接口、数据源、数据过滤器和数据轮询频次等。")和[设置组件数据源](https://help.aliyun.com/zh/datav/datav-6-0/user-guide/configure-the-data-source-for-a-widget#task-2376923 "本文档介绍DataV设置组件数据源的方法，以及设置数据源页面的内容，包括数据源、数据过滤器以及数据响应结果等。")，修改区块的数据内容。![查看区块数据接口内容](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/5643285261/p290515.png)

## 实时预览数据接口配置

在数据接口设置页签中，对话框左侧是用于自定义配置数据接口的区域，对话框右侧为实时预览区域。所有在左侧配置完成的数据接口参数内容，均可直接显示在右侧预览界面，方便查看配置完成的数据接口内容。![预览数据接口配置](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/7669864261/p283677.png)