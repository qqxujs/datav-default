<!DOCTYPE html> 

聚光灯是三维城市构建器补充额外的光源的图层，用于模拟聚光灯的打光和颜色效果，投射的光线可根据需要调节聚光样式，使得在一定范围内，可使光区放大或缩小。聚光灯支持独立的样式配置，包括聚光灯辅助体样式、投射阴影参数、光的强度、颜色等。本文介绍聚光灯各配置项的含义。

在场景编辑器左侧图层列表中，单击**聚光灯**图层，进入配置面板配置**聚光灯**图层的样式和数据。 

**说明** 
* 当前组件目前仅供**DataV专业版**及以上版本用户使用。如需使用该组件，请先将版本升级至专业版及以上版本。
* 如果图层列表中没有**聚光灯**，说明您还未添加**聚光灯**图层，请参见[添加子组件](https://help.aliyun.com/zh/datav/datav-7-0/user-guide/layer-panel-management#section-1yb-xd4-pfe)进行添加。

## 样式面板

**重要** 

请您避免添加多个聚光灯，防止因性能开销过大导致页面卡顿或加载缓慢。

![image.png](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/2950859861/p694405.png)
* **搜索配置**：单击**配置**面板右上角的**搜索配置**，可在搜索配置面板中输入您需要搜索的配置项名称，快速定位到该配置项，系统支持模糊匹配。详情请参见[搜索配置项](https://help.aliyun.com/zh/datav/datav-7-0/user-guide/configuration-items#b14c340069fac)。
* **通用**

| **参数**   | **说明**                                                                                                                                                    |
| ---- | ---- |
| **光源位置** | 设置聚光灯的光源位置信息。**经度**：拖动滑块设置聚光灯光源所处的经度值，取值范围为-180\~180。**纬度**：拖动滑块设置聚光灯光源所处的纬度值，取值范围为-90\~90。**高程**：拖动滑块设置聚光灯光源距离地面所处的高度值，取值范围为-1000\~20000。                |
| **目标位置** | 设置聚光灯的目标位置信息。**经度**：拖动滑块设置聚光灯光源照向的目标位置的经度值，取值范围为-180\~180。**纬度**：拖动滑块设置聚光灯光源照向的目标位置的纬度值，取值范围为-90\~90。**高程**：拖动滑块设置聚光灯光源照向的目标位置距离地面的高度值，取值范围为-1000\~20000。 |
* **图形**

| **参数**   | **说明**                                                                                                                    |
| ---- | ---- |
| **光照颜色** | 聚光灯光照的颜色，请参见[颜色选择器说明](https://help.aliyun.com/zh/datav/datav-7-0/user-guide/configuration-items#section-kdw-vj4-t2b)修改颜色。 |
| **光照强度** | 拖动滑块设置聚光灯光照强度系数，取值范围为0\~10。                                                                                               |
| **衰减系数** | 拖动滑块设置聚光灯的灯光投射衰减系数值，取值范围为0\~2。                                                                                            |
| **视角**   | 拖动滑块设置聚光灯的灯光视角，取值范围为0\~0.5。                                                                                               |
| **距离**   | 拖动滑块设置聚光灯能照到的距离，默认为0，即可以照到无限远，取值范围为0\~30000。                                                                              |
| **半影锥**  | 拖动滑块设置聚光灯阴影边缘模糊渐变的半径比例值，取值范围为0\~1。                                                                                        |
| **投射阴影** | 打开开关，开启聚光灯投射阴影效果；关闭开关，聚光灯不投射阴影效果。**说明** 开启聚光灯投射阴影效果，需要其他组件材质支持接受阴影，而且光影会影响所有支持该光源的材质，使用投射阴影会使得电脑配置性能开销变大，请谨慎使用该功能。        |
| **辅助体**  | 包括控制辅助体光源和阴影相机样式。打开开关，显示聚光灯辅助体样式；关闭开关，隐藏聚光灯辅助体样式。                                                                         |
| **阴影参数** | 打开投射阴影效果后，可自定义设置聚光灯的阴影参数，包括阴影近平面距离、远平面距离、阴影贴图和focus。                                                                      |

## 数据面板

此图层不需要配置数据。

## 蓝图交互

1. 在当前场景编辑器页面，单击左侧图层列表中**聚光灯**右侧的![导出到蓝图编辑器](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/2434449951/p89089.jpg)图标。
2. 单击页面左上角的![蓝图图标](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/2434449951/p89087.jpg)图标。
3. 在蓝图编辑器配置页面，单击导入节点栏内的**聚光灯**图层，在画布中可以看到如下图所示的聚光灯的蓝图编辑器配置参数。![聚光灯蓝图参数](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/0299249161/p266490.jpg)

  * **事件**：无。
  * **动作**

| **动作**   | **说明**      |
| ---- | ---- |
| **显示组件** | 显示组件，不需要参数。 |
| **隐藏组件** | 隐藏组件，不需要参数。 |