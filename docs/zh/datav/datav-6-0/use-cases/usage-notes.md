# 注意事项 %{#107037}% 

本文提供一些教程中的注意事项供您参考。

* DataWorks数据服务向导模式生成API，只支持单表简单条件查询。脚本模式支持用户编写查询SQL语句，支持多表关联查询、函数以及复杂条件，您可以根据自己的需求灵活选择。
* Lightning采用PostgreSQL的语法，因此在编写SQL时，需要注意：  
  * 要使用PostgreSQL函数，而不是MaxCompute的UDF。
  * 目前Lightning仅支持`max_pt`这个MaxCompute UDF，可用于获取当前最新分区。
  * 连接字符串时使用`||`。
* Lightning目前只支持秒级查询，并且查询的MaxCompute不宜过大（控制在GB级），尽量将分区作为请求参数，避免扫描过多分区，否则查询速度会比较慢。
* 如果您要求毫秒级API查询，则建议采用关系型数据库、NoSQL数据库或AnalyticDB作为数据源。
* DataV组件要求的数据格式是个数组，数据服务生成的API返回结果是个带有错误码的完整JSON，因此要使用过滤器对API结果进行处理。  
您可以在DataV中添加过滤器，也可以直接在数据服务配置API时添加过滤器。一般来说，对于未分页查询的API，直接返回data数组即可；对于分页查询的API直接返回data.rows数组。
* 如果您需要在DataV的折线图或柱状图中添加多个系列，DataV一般要求每个系列的数据是一个对象，并通过s字段来区分系列，此时要注意使用数据过滤器进行格式转换。