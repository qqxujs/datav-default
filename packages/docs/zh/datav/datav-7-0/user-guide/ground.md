 

地面是三维城市构建器的基底图层，可配置选择L1和L2两种数据精度，本文以L2精度为例介绍地面的样式和数据配置，包括地面的阴影、环境贴图强度系数和面类型等样式配置。地面表示程序生成的地表面样式。本文介绍地面配置项的含义。

在场景编辑器左侧图层列表中，单击**地面**图层，进入配置面板配置**地面**图层的样式和数据。

**说明**

如果图层列表中没有**地面**，说明您还未添加**地面**图层，请参见[添加子组件](https://help.aliyun.com/zh/datav/datav-7-0/user-guide/layer-panel-management#section-1yb-xd4-pfe)进行添加。

## 样式面板![image.png](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/4232429861/p693628.png)

**参数**

**说明**

**通用**

设置地面的通用配置参数项，仅在地形选择L2数据精度时可配置。这里主要指设置地面的阴影样式，通过打开或关闭**发射阴影**的开关，控制地面的阴影效果样式。

**图形**

设置地面图形的样式，可选**底面**、**侧面**和**顶面**。

-   **底面**：设置地面底面样式参数，包括调整底面在x轴和y轴方向的UV平铺值大小、颜色、基础颜色贴图样式、粗糙度值、粗糙度贴图样式、金属度值、金属度贴图样式、法线贴图样式、环境遮蔽贴图强度值、环境遮蔽贴图样式、发光颜色和发光贴图样式。仅在地形选择L2数据精度时可配置。
    
-   **侧面**：设置地面侧面样式参数，包括调整侧面在x轴和y轴方向的UV平铺值大小、颜色、基础颜色贴图样式、粗糙度值、粗糙度贴图样式、金属度值、金属度贴图样式、法线贴图样式、环境遮蔽贴图强度值、环境遮蔽贴图样式、发光颜色和发光贴图样式。
    
-   **顶面**：设置地面顶面样式参数，包括调整顶面在x轴和y轴方向的UV平铺值大小、颜色、基础颜色贴图样式、粗糙度值、粗糙度贴图样式、金属度值、金属度贴图样式、法线贴图样式、环境遮蔽贴图强度值、环境遮蔽贴图样式、发光颜色和发光贴图样式。
    

**说明**

贴图仅支持使用PNG或者JPG格式的图片。

**地图摆件**

设置地图摆件样式，仅在地形选择L2数据精度时可配置。单击**模型映射**右侧的![加号图标](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/0201929951/p89097.jpg)或![垃圾桶图标](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/3208049161/p89098.jpg)图标，添加或删除一个模型映射。 单击![横排列图标](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/0201929951/p95437.jpg)或![竖排列图标](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/0201929951/p94077.jpg)图标配置多个模型映射的排列方式。单击![复制图标](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/5896941261/p271562.jpg)图标，即可复制当前选中的模型映射进行配置并新增一个同样配置的模型映射。

-   **类型**：模型映射的类型。
    
-   **模型资源链接**：模型映射的资源URL链接。
    
-   **缩放大小**：设置模型映射在x方向，y方向和z方向的缩放比例。取值范围为0.01~100。
    

## 数据面板![image.png](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/4232429861/p693630.png)

**重新选择数据**：在数据面板内可以单击下方**重新选择数据**，打开**选择范围**对话框，重新选择仅针对地面图层的数据范围，详情请参见[使用官方基底数据创建](https://help.aliyun.com/zh/datav/datav-7-0/user-guide/create-a-3d-city#6623dda05fs3d)中的选择场景范围区域的操作步骤。

**刷新数据**：刷新数据面板上已添加的数据内容。

## 蓝图交互

1.  在当前场景编辑器页面，单击左侧图层列表中**地面**右侧的![导出到蓝图编辑器](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/2434449951/p89089.jpg)图标。
    
2.  单击页面左上角的![蓝图图标](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/2434449951/p89087.jpg)图标。
    
3.  在蓝图编辑器配置页面，单击导入节点栏内的**地面**图层，在画布中可以看到如下图所示的地面的蓝图编辑器配置参数。![image.png](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/4232429861/p693632.png)
    
    -   **事件**
        
        **事件**
        
        **说明**
        
        **当数据接口请求完成时**
        
        数据接口请求返回并经过过滤器处理后抛出的事件，同时抛出处理后的JSON格式的数据。具体数据示例请参见画布编辑器中组件右侧配置面板**数据**页签的**数据响应结果**区域。
        
        **渲染完成**
        
        地面组件渲染完成时抛出的事件，同时抛出object类型的数据。仅在地形选择L1数据精度时可配置。
        
    -   **动作**
        
        **动作**
        
        **说明**
        
        **请求数据接口**
        
        重新请求服务端数据，上游数据处理节点或图层节点抛出的数据将作为参数。例如地面配置了API数据源为`https://api.test`，传到**请求数据接口**动作的数据为`{ id: '1'}`，则最终请求接口为`https://api.test?id=1`。
        
        **导入数据接口**
        
        按组件绘制格式处理数据后，导入组件，重新绘制。不需要重新请求服务端数据。具体数据示例请参见画布编辑器中组件右侧配置面板**数据**页签的**数据响应结果**区域。
        
        **显示组件**
        
        显示组件，不需要参数。
        
        **隐藏组件**
        
        隐藏组件，不需要参数。