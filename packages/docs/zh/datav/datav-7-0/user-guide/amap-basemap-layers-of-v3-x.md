<!DOCTYPE html> 

本文介绍高德底图层各配置项的含义。

## **图表样式**

高德底图层是基础平面地图 3.0的子组件，支持独立的样式和交互配置，包括底图的模板、显示内容以及滤镜等，支持接入最新的高德在线地图作为底图，可以根据需要自定义地图样式。![image.png](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/7658731961/p702798.png)

## 样式面板![image.png](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/1531511071/p742519.png)

* **搜索配置**：单击**样式**面板右上角的搜索配置项图标![image](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/5013889661/p527384.png)，可在搜索配置面板中输入您需要搜索的配置项名称，快速定位到该配置项，系统支持模糊匹配。详情请参见[搜索配置项](https://help.aliyun.com/zh/datav/datav-7-0/user-guide/configuration-items#b14c340069fac)。
* **通用**：高德底图层通用配置参数。

|    **参数**    |    **说明**    |
|    ----    |    ----    |
|    **可见级别**    |    设置高德底图层的可见级别值，取值范围为3\~20，单位级，在设定的级别范围内高德底图层可见，级别之外不可见。    |
|    **不透明度**    |    设置高德底图层的不透明度值，取值范围为0\~100，单位%。数值越大地图样式越不透明。    |
* **图形**：高德底图层图形样式配置参数。

|    **参数**    |    **说明**    |
|    ----    |    ----    |
|    **地图样式**    |    选择设置地图的样式，包括**标准模板**和**自定义样式**。    |
|    **标准模板**    |    提供多个标准模板样式的地图，可选**标准**、**幻影黑**、**靛青蓝**、**极夜蓝**、**雅士灰**、**月光银**、**青草色**、**涂鸦**、**远山黛**、**马卡龙**和**酱籽**。仅在**地图样式**选择**标准模板**时可配置。    |
|    **高德Key/高德密钥**    |    已经申请到的高德地图Key。仅在**地图样式**选择**自定义样式**时可配置。**说明** 您需要首先申请高德地图key，申请方法请参考以下步骤。注册高德地图账号 ：前往[高德开放平台](http://lbs.amap.com) ，注册成为高德开发者。 获取高德Key ： 登录[高德开放平台控制台](https://lbs.amap.com/dev)，单击**应用管理我的应用+创建新应用**，输入**应用名称**并选择**应用类型**，完成后单击**创建**。![创建高德在线新应用](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/6884409361/p35413.png)单击应用列表右侧的**添加**，在弹出框中输入**Key名称**，选择**服务平台**，并选中页面最下方的**阅读并同意服务条款**，完成后单击**提交**。![创建key](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/6884409361/p36473.png)![为pro添加key](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/6884409361/p35414.png)提交成功后，高德开放平台会自动生成一个Key，您可在**我的应用**页面进行查看，并拷贝保存到本地。![我的应用页面](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/6884409361/p36474.png)返回Datav工作台，将获取到的高德Key粘贴到**高德Key**后面的文本框中，成功后高德在线地图会成为基础平面地图的底图。**重要**  同一个大屏中若存在多个**高德在线底图层**，需要配置相同的**高德Key**和**高德密钥**。    |
|    **地图样式ID**    |    输入**地图样式ID**，自定义地图样式。仅在**地图样式**选择**自定义样式**时可配置。 **说明** 您需要在高德开放平台创建自定义地图并获取地图样式ID，具体方法请参考以下步骤。登录[高德开放平台控制台](https://lbs.amap.com/dev)，单击**自定义地图创建地图样式**。![自定义地图模板](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/6884409361/p36478.png)在左侧导航栏中选择一个模板，单击**创建**。创建成功后，可在模板的基础上进行自定义配置。![创建地图模板](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/1368068951/p35505.png)配置完成后，单击**保存**，保存成功后，单击**发布**。![发布地图模板](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/2368068951/p35506.png)发布成功后，系统弹出**发布成功**对话框，单击**返回控制台**，回到自定义地图页面。在自定义地图页面，单击您发布成功的地图样式下方的**使用与分享**。在**使用与分享**页面，单击样式ID右侧的**复制**，即可复制样式ID。将复制的样式ID粘贴到DataV的**高德底图层配置图形地图样式ID**文本框中。单击配置面板中空白区域，底图层样式就会生效。    |
|    **显示内容**    |    选择地图上要显示的内容，包括可以选中以下**背景**、**道路**、**建筑物**、**标注**和**路况**这五个选项。    |
|    **风格滤镜**    |    单击左侧![眼睛图标](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/8648413261/p89095.jpg)图标，即可开启风格滤镜配置。开启后，可以为高德底图层添加滤镜效果，设置滤镜的**亮度**、**对比度**、**灰度**、**色相**、**反转**、**饱和度**和**墨度**。    |    
当您需要使用默认样式时，请参考下表示例，使用**样式ID**替换图中的**地图样式ID**。

|    **样式名称**    |    **样式ID**    |
|    ----    |    ----    |
|    标准    |    normal    |
|    幻影黑    |    dark    |
|    靛青蓝    |    blue    |
|    极夜蓝    |    darkblue    |
|    雅士灰    |    grey    |
|    月光银    |    light    |
|    草色青    |    fresh    |
|    涂鸦    |    graffiti    |
|    远山黛    |    whitesmoke    |
|    马卡龙    |    macaron    |
|    酱籽    |    wine    |

## 数据源面板

此组件不需要配置数据。

## 高级面板![image.png](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/1531511071/p742520.png)

打开开关，开启组件交互功能。可单击某个室内地图楼层，触发数据请求，抛出回调值，实现在切换楼层的时候，动态加载不同楼层的数据。 默认抛出`indoormapFloor`字段。具体配置请参见[组件交互配置](https://help.aliyun.com/zh/datav/datav-7-0/user-guide/widget-interaction-configuration)。

**说明** 

交互显示地图楼层模式，只有在选择**标准模板**样式情况下才可以触发。

## 蓝图交互

1. 单击页面左上角的![image](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/7498599661/p528973.png)图标，进入**蓝图**页面。
2. 在**图层节点**页签下，添加当前组件至主画布中。
3. 查看蓝图配置参数。![image](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/5374082761/p541693.png)

  * **事件**

**室内地图楼层被点击触发**：当单击高德底图层中的某个室内地图楼层时触发回调ID获取的楼层内信息。
  * **动作**

|    **动作**    |    **说明**    |
|    ----    |    ----    |
|    **切换显隐**    |    切换组件显示或者隐藏，不需要参数。    |
|    **显示**    |    显示组件，参考数据示例。{   "animationType": "",//动画方式，可选值：fade，不填无动画。   "animationDuration": 1000,//动画延迟，单位ms。   "animationEasing": ""//动画曲线 }    |
|    **隐藏**    |    隐藏组件，参考数据示例。{   "animationType": "",//动画方式，可选值：fade，不填无动画。   "animationDuration": 1000,//动画延迟，单位ms。   "animationEasing": ""//动画曲线 }    |
|    **更新组件配置**    |    动态更新组件的样式配置。需要先在组件的**样式**面板中，单击**复制配置到剪贴板**，获取组件配置数据。再根据需要在蓝图编辑器配置页面的数据处理节点中更改对应样式的字段值。    |