<!DOCTYPE html> 

本文为您介绍标签层各配置项的含义。

## **图表样式**

标签层是3D平面地图（v4.x版本）中的子组件，专为实现地理要素的动态信息标注而设计，提供包括样式自定义、数据绑定和交互行为在内的完整配置体系，支持轮播展示等高级功能，可满足从基础标注到复杂业务场景的全方位可视化需求。![2025-05-15_10-05-43](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/1581372571/p955079.gif)

## **前提条件**

* 已创建数据看板，支持使用[模板创建PC端看板](/zh/datav/datav-7-0/user-guide/use-a-template-to-create-a-project-on-pc)、[空白画布创建数据看板](/zh/datav/datav-7-0/getting-started/use-a-canvas-to-create-a-dashboard#639c36877c6jr)、[AI智能生成PC端看板](/zh/datav/datav-7-0/user-guide/use-ai-to-intelligently-generate-pc-side-kanban)。
* 已经添加**3D平面地图4.0**组件并添加**标签层**子组件，详情请参见[使用地图组件](/zh/datav/datav-7-0/user-guide/manage-map-subcomponents-4-0)。

## **接入业务数据**

添加组件后，您可将已准备的业务数据接入组件进行显示。单击标签层，在右侧的**数据源**页签，即可选择该组件所要呈现的数据。![image](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/1581372571/p955110.png)

标签层接收的数据字段介绍如下。

|    字段    |    说明    |
|    ----    |    ----    |
|    lng    |    必填，标签的经度。    |
|    lat    |    必填，标签的纬度。    |
|    height    |    可选，标签在垂直方向上相对于地图平面的高度值。    |
|    icon    |    可选，标签的图标样式。    |
|    html    |    可选，标签图标所在的URL地址。    |

数据源的核心配置项介绍如下。

|    配置项    |    描述    |
|    ----    |    ----    |
|    选择数据源    |    支持接入CSV文件、API、各类数据库等多种类型数据，详情请参见[添加数据源](/zh/datav/datav-7-0/user-guide/add-a-data-source/)。您可使用可视化表格或代码方式编辑数据字段。    |
|    配置过滤器（可选）    |    用于自定义过滤代码，实现数据的结构转换、筛选、展示和简单的计算，详情请参见[过滤器配置与应用](/zh/datav/datav-7-0/user-guide/filter-configuration-and-application)。    |
|    配置数据映射    |    用于将所选数据源中的字段映射至组件对应的字段上，实现数据的实时匹配。单击![image](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/1581372571/p955111.png)图标可配置字段样式。    |
|    查看响应结果    |    用于实时展示组件所接入的数据。当组件数据源发生变化时，此处会对应展示最新数据。单击数据响应结果，可查看编写的数据字段代码。单击查看示例，可查看数据源接收的数组类型及代码示例。您可参考示例编写相关字段。其他数据请求配置：**禁止加载态**：勾选后，在组件更新或预览数据看板时，将不呈现组件初始化时的加载内容。**受控模式**：勾选后，组件在初始化状态下不会请求数据。此时仅支持通过蓝图编辑器或全局变量事件发起数据请求。**自动更新请求**：勾选后，平台会根据您设置的轮询时间，动态轮询更新数据；不勾选，则需手动刷新页面，或通过蓝图编辑器和全局变量事件来触发请求更新数据。    |

## **配置样式**

标签层提供多维度的配置分类，包括**通用**、**图形**、**标签**、**动效**和**条件**配置（在样式页签左侧即可切换）。您也可单击![image](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/1581372571/p955115.png)图标，通过关键词[搜索配置项](/zh/datav/datav-7-0/user-guide/configuration-items#516b14302bl4r)，快速定位到所需配置项，搜索支持模糊匹配。

![{60047003-295A-4020-B601-8F26EB862548}](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/1581372571/p955311.png)相关配置项介绍如下。

|    配置项    |    描述    |
|    ----    |    ----    |
|    **通用**    |    **不透明度**：标签层的不透明度，范围为0\~100，单位%。数值越大标签层越不透明。    |
|    **图形**    |    主图标样式配置默认开启，可自定义标签层主图标显示效果。**图标形状**：设置标签层在3D平面地图上显示的图标形状，系统内置多种预设图标模板，也可以单击![上传](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/1581372571/p955166.jpg)图标，上传自定义图标。**图标尺寸**：配置标签层图标的宽度和高度，范围为0\~200，单位px。**内容边距**：设置标签中的内容距离上下左右四个方向的边距值。    |
|    **标签**    |    设置标签层内标签的样式参数。**整体宽度**：设置标签的宽度属性。**适应类型**：设置标签的适应类型，包括**自定义**、**自适应**和**固定宽度**。**固定宽度**：设置标签的整体宽度为固定宽度，单位为px。**文本溢出**：设置标签文字的文本溢出处理方式，包括**自定义**、**切断**、**换行**和**省略号**。默认为**省略号**。**主标题**：设置标签内主标题的样式。**标题字段**：设置标签的标题字段内容，需要与地理数据中的字段名称相匹配，默认为name字段。**文本样式**：设置标签标题内的文本样式，包括文本的字体样式、字号大小、颜色和文本粗细值。**标题背景**：设置标签主标题内的背景样式。**背景颜色**：设置标签主标题的背景颜色。**边框样式**：设置标签主标题边框的样式，包括边框的线类型，线宽的值和颜色。**边框圆角**：设置标签主标题边框的圆角在四个方向的值，单位px。**内容边距**：设置标签中的主标题内容距离上下左右四个方向的边距值。**主内容**：设置标签内主内容的样式。**每行样式**：单击**每行样式**右侧的![image](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/1161599661/p528933.png)或![image](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/1161599661/p528934.png)图标，添加或删除一个每行内容样式。 单击![image](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/1161599661/p528936.png)或![image](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/1161599661/p528937.png)图标配置多个每行内容样式的排列方式。单击![image](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/1161599661/p528938.png)图标，即可复制当前选中的内容样式配置并新增一个同样配置的每行样式内容。**行字段**：行内容的字段名称，需要和数据面板中的字段相匹配。**字段样式**：设置行字段样式，包括字段的字体样式、字号大小、颜色和粗细值。**字段前缀**：设置字段前缀的具体内容、内容间隔值、字体、字号大小、颜色和粗细值。单击**字段前缀**左侧的![眼睛图标](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/8648413261/p89095.jpg)图标，可控制**字段前缀**样式的显隐。**字段后缀**：设置字段后缀的具体内容、内容间隔值、字体、字号大小、颜色和粗细值。单击**字段后缀**左侧的![眼睛图标](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/8648413261/p89095.jpg)图标，可控制**字段后缀**样式的显隐。**行高比例**：标签的行高比例值，取值范围为1\~2。**内容背景**：设置标签主内容的背景样式。**背景颜色**：设置标签主内容的背景颜色。**边框样式**：设置标签主内容边框的样式，包括边框的线类型，线宽的值和颜色。**边框圆角**：设置标签主内容边框的圆角在四个方向的值，单位px。**外边距**：设置标签背景框与外部元素的间隔距离。**内容边距**：设置标签主内容距离上下左右四个方向的边距值。**背景框**：设置标签内背景框的样式。**背景类型**：标签背景框的背景类型，可选**矢量**和**图片**。**背景颜色**：设置标签的背景颜色，仅在**背景类型**选择**矢量**时可配置。**图片模板**：选择背景图片的模板样式，仅在**图片模板**选择**图片**时可配置。**不透明度**：设置背景图片的不透明度值，取值范围为0\~100，仅在**图片模板**选择**图片**时可配置。**边框样式**：设置标签背景边框的样式，包括边框的线类型，线宽的值和颜色，仅在**背景类型**选择**矢量**时可配置。**边框圆角**：设置标签背景边框的圆角在四个方向的值，单位px，仅在**背景类型**选择**矢量**时可配置。**内容边距**：设置标签背景框中的内容距离上下左右四个方向的边距值。    |
|    **动效**    |    设置标签层动态效果的配置参数。**显示方式**：标签动效的显示方式。可选**轮播**和**全显**。**轮播顺序**：标签动效的轮播顺序。可选随机轮播和顺序轮播。**轮播数量**：标签层轮播内容的数量，范围为0\~50，单位个。**轮播时长**：标签层图标的轮播时长。**进入时长**：设置标签进入时长，范围为0\~5，单位秒。**停留时长**：设置标签停留时长，范围为1\~500，单位秒。**消失时长**：设置标签消失时长，范围为0\~5，单位秒。    |
|    **条件**    |    **条件样式**：单击右侧的![image](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/1161599661/p528933.png)或![image](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/1161599661/p528934.png)图标，添加或删除一个条件样式。 单击![image](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/1161599661/p528936.png)或![image](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/1161599661/p528937.png)图标配置多个条件样式的排列样式。单击![image](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/1161599661/p528938.png)图标，即可复制当前选中条件样式配置内容并新增一个同样配置的条件样式。具体样式配置说明，请参见[条件树使用说明](/zh/datav/datav-7-0/user-guide/conditional-tree-instructions)。**图形**：设置该条件下信息标签层内的图形样式。单击**图形**左侧的![眼睛图标](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/8648413261/p89095.jpg)图标，可控制该条件下信息标签层内对应图形的显隐。**图标形状**：标签层标签内主图标的形状样式，您可以单击样式右侧的下拉选项框，选择系统内置多种图标样式；也可在下拉框面板的输入框内自定义输入图片的URL地址，将远程服务器上的图片作为标签图标；或者单击输入框右侧的![上传按键](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/3366732361/p310531.jpg)图标，上传本地图片作为标签图标。**图标尺寸**：设置主图标在宽度和高度上的尺寸大小，取值范围为0\~200，单位px。**标签**：单击左侧的![眼睛图标](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/8648413261/p89095.jpg)图标，可控制该条件下标签层内对应标签的显隐。**主标题**：配置主标题的文本样式和标题背景。**文本样式**：设置标签标题内的文本样式，包括文本的字体样式、字号大小、颜色和文本粗细值。**标题背景**：设置标签主标题内的背景样式。**背景颜色**：设置标签主标题的背景颜色。**边框样式**：设置标签主标题边框的样式，包括边框的线类型，线宽的值和颜色。**边框圆角**：设置标签主标题边框的圆角在四个方向的值，单位px。**内容边距**：设置标签中的主标题内容距离上下左右四个方向的边距值。**主内容**：配置主内容的行高比例和内容背景。**行高比例**：标签的行高比例值，取值范围为1\~2。**内容背景**：设置标签主内容的背景样式。**背景颜色**：设置标签主内容的背景颜色。**边框样式**：设置标签主内容边框的样式，包括边框的线类型，线宽的值和颜色。**边框圆角**：设置标签主内容边框的圆角在四个方向的值，单位px。**背景框**：单击左侧的![眼睛图标](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/8648413261/p89095.jpg)图标，可控制该条件下标签层内对应背景框的显隐。**背景类型**：标签背景框的背景类型，可选**矢量**和**图片**。**背景颜色**：设置标签的背景颜色，仅在**背景类型**选择**矢量**时可配置。**图片模板**：选择背景图片的模板样式，仅在**图片模板**选择**图片**时可配置。**不透明度**：设置背景图片的不透明度值，取值范围为0\~100，仅在**图片模板**选择**图片**时可配置。**边框样式**：设置标签背景边框的样式，包括边框的线类型，线宽的值和颜色，仅在**背景类型**选择**矢量**时可配置。**边框圆角**：设置标签背景边框的圆角在四个方向的值，单位px，仅在**背景类型**选择**矢量**时可配置。**内容边距**：设置标签背景框中的内容距离上下左右四个方向的边距值。    |

## **高级面板**

![{E0FCF270-83EF-47B6-AAEE-6B7A815FC4FB}](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/1581372571/p955255.png)

通过高级面板配置交互事件或关联全局变量，实现组件之间的联动。具体操作请参见[组件交互配置](/zh/datav/datav-7-0/user-guide/widget-interaction-configuration)。

## **蓝图交互**

可通过[蓝图编辑器](/zh/datav/datav-7-0/user-guide/what-is-blueprint-editor-1)使用可视化连线方式，定义组件间的交互关系及行为逻辑。

操作步骤

1. 在画布编辑页面，单击顶部菜单栏左侧的![image](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/1907643371/p879479.png)图标，进入蓝图编辑器。
2. 在图层节点列表，鼠标悬停至标签层组件，单击![image](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/2907643371/p879480.png)图标，添加该组件至主画布。
3. 查看蓝图配置参数。![{B90A0758-2DF5-4EB3-ACE9-302A4458804E}](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/1581372571/p955256.png)

**说明**  
图层事件和动作的参数提示信息，可以在画布右侧的锚点配置中单击![image](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/8354772371/p878122.png)图标查看。
* **事件**

|    事件    |    说明    |
|    ----    |    ----    |
|    **当数据更新时**    |    数据接口请求返回并经过过滤器处理后抛出的事件，同时抛出处理后的JSON格式的数据。具体数据示例请参见画布编辑器中组件右侧配置面板**数据源**页签的**数据响应结果**区域。    |
|    **当数据请求状态变化时**    |    当数据请求状态变化时抛出该事件，回调参数为当前状态，具体数据示例请参见画布编辑器中组件右侧配置面板数据源页签的数据响应结果区域。    |
|    **当点击点时**    |    当单击图层点时触发事件并抛出数据。    |
* **动作**

|    动作    |    说明    |
|    ----    |    ----    |
|    **导入数据**    |    按组件绘制格式处理数据后，导入组件，重新绘制。不需要重新请求服务端数据。具体数据示例请参见画布编辑器中组件右侧配置面板**数据源**页签的**数据响应结果**区域。    |
|    **请求数据**    |    重新请求服务端数据，上游数据处理节点或图层节点抛出的数据将作为参数。例如标签层配置了API数据源为https://api.test，传到**请求数据**动作的数据为{ id: '1'}，则最终请求接口为https://api.test?id=1。    |
|    **切换显隐**    |    **切换显隐**、**显示**和**隐藏**组件默认不需要参数，可以按需添加动画配置，参考数据示例。{//动画方式，可选值为：appear\|fade|slideToUp，默认值为 fade，不填无动画。"animationType": "fade",//动画延迟，默认值为1000，单位ms。"animationDuration": 1000,//动画曲线，可选值为：linear|easeInOutQuad|easeInOutExpo，默认值为 linear。"animationEasing": "linear"}    |
|    **显示**    |    |
|    **隐藏**    |    |
|    **更新组件配置**    |    动态更新组件的样式配置。需要先在组件的**样式**面板中，单击**复制配置到剪贴板**，获取组件配置数据。再根据需要在蓝图编辑器配置页面的数据处理节点中更改对应样式的字段值。    |