# 如何配置数字翻牌器组件的回调ID %{#87671}% 

在DataV中，回调ID是指某个资产在响应用户操作或者自动触发更新时，向其它资产传递的参数，这个参数可以在其它资产中作为数据查询时的动态变量。本文档以**数字翻牌器**组件为例，为您介绍回调ID的使用方法。

## **操作步骤**

1. 登录[DataV控制台](https://datav.aliyun.com/)。
2. 选择任一可视化应用，单击编辑，进入画布编辑器页面。
3. 添加**数字翻牌器**组件和**通用标题**组件到画布中。
4. 选择**数字翻牌器**组件，单击编辑器右侧的**交互**页签。

**说明**  
DataV提供了回调ID的独立编辑区域，即上图中的**交互**面板，方便您清晰快速地使用回调ID功能。
5. 选中**当前值变化时**事件右侧的**启用**。修改绑定到变量中的变量名称。

**说明**  
  * 变量名称修改为**income**后，在需要响应回调ID的资产中就可以使用**income**来获取参数值。
  * 您可以给不同的资产设置不一样的变量名称，达到区分使用不同参数的目的。
6. 单击需要响应回调ID的资产，在**数据**配置页面的数据源编辑框中，通过**:变量名**（如**:income**）使用您已经配置的变量。以**通用标题**组件为例。

**说明**  
如果您的**数据源类型**为**静态数据**或者**CSV 文件**，不支持回调ID。

  * SQL模式![image](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/3786322861/p636178.png)  
  ```  
  select :income as value  
  ```  
  ![image](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/4786322861/p636189.png)  
  ```  
  select city from test_id_3 where id = :income  
  ```

**说明**  
    * `income`为您配置的回调ID，`value`为您自定义的字段，用来接收回调ID的值。
    * `id`、`city`为您数据库中的字段，`test_id_3`为数据库中数据表的表名。
  * API模式![image](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/3786322861/p636204.png)  
  ```  
  https://api.test?id=:income&city=:mycity  
  ```

**说明**  
  `income`和`mycity`为您配置的回调ID，`id`和`city`为您数据库中的字段。

## 高级功能

### **设置自定义字段**

1. 选择数字翻牌器组件，单击编辑器右侧的**数据**页签。
2. 单击**配置数据源**。
3. 在静态数据中新增一个`id`字段，值为123。
4. 选择交互页签，单击**新建一个字段**。
5. 在**字段**列输入`id`，在**绑定到变量**列输入您要设置的变量名称。

**说明**  
只有同时填写了**字段**值和**绑定到变量**对应的值后，这个变量才会生效。

### **设置回调ID的默认值**

您可以通过在URL中设置请求参数的形式来设置回调ID的默认值，示例如下。 

```
http://datav.aliyun.com/screen/000000?myid=123
```

`000000`表示屏幕id。通过这个URL访问可视化应用时，在打开页面的同时，回调ID的`myid`的值已经被设置为**123**。多个回调ID之间使用“&”符号连接，如下的示例中同时设置了回调ID的`myid`和`income`的默认值。 

```
http://datav.aliyun.com/screen/000000?myid=123&income=1000
```

`000000`表示屏幕id。

## 常见问题

Q：在画布编辑页面，配置了回调ID后，无法获取回调值，导致数据查询失败怎么办？

A：画布编辑页面无法触发事件，获取回调值，因此请求失败。您可以选择以下两种方式，查看请求的返回值。 

* 预览页面查看。在浏览器控制台**Network**中查看请求的返回值，或者直接通过资产显示方式查看。
* 编辑页面查看。在可视化应用URL后添加测试参数来测试数据，添加方式如下。  
```  
https://datav.aliyun.com/admin/screen/99999?参数名=参数值  
```